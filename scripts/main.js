"use strict";!function(a){function e(a,e){a.off().on("click",function(a){e.fadeIn(),a.preventDefault()})}function n(e,n){n.find(".tmg-calendar-day").off().on("click",function(d){var l=a(this);l.hasClass("disable")||(n.find(".tmg-calendar-day.selected").removeClass("selected"),l.addClass("selected"),e.val(l.data("date")),r=l.data("date"),n.fadeOut()),d.preventDefault()}),n.find(".tmg-calendar-close").off().on("click",function(a){n.fadeOut(),a.preventDefault()})}function d(a,e){var n=["January","February","March","April","May","June","July","August","September","October","November","December"],d=new Date,l=n[d.getMonth()],s=d.getFullYear(),t=e.responsive===!0?"responsive":"",r='<div class="tmg-calendar '+t+'">						          <div class="tmg-calendar-wrap">						            <div class="tmg-calendar-header">						              <a href="#" class="tmg-calendar-close"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></a>						              <h4 class="tmg-calendar-title">'+l+" "+s+'</h4>						              <div class="row">						                <div class="col-xs-14 tmg-calendar-day-header">Mo</div>						                <div class="col-xs-14 tmg-calendar-day-header">Tu</div>						                <div class="col-xs-14 tmg-calendar-day-header">We</div>						                <div class="col-xs-14 tmg-calendar-day-header">Th</div>						                <div class="col-xs-14 tmg-calendar-day-header">Fr</div>						                <div class="col-xs-14 tmg-calendar-day-header">Sa</div>						                <div class="col-xs-14 tmg-calendar-day-header">Su</div>						              </div>						            </div>						            <div class="tmg-calendar-days row"></div>						          </div>						        </div><div class="arrow-left"></div>';return a.after(r).next(".tmg-calendar")}function l(a){var e=1===new Date(a,1,29).getMonth();return e}function s(e,n){var d=[{name:"JAN","long":31},{name:"FEB","long":28},{name:"MAR","long":31},{name:"APR","long":30},{name:"MAY","long":31},{name:"JUN","long":30},{name:"JUL","long":31},{name:"AGO","long":31},{name:"SEP","long":30},{name:"OCT","long":31},{name:"NOV","long":30},{name:"DEC","long":31}],s=new Date,t=s.getMonth(),i=s.getDate(),c=s.getDay(),o=s.getFullYear(),v=c-1+7*e.numDisabledRows,g=n.find(".tmg-calendar-days"),m=1,f=1,u=0,h=0;l(o)&&(d[1]["long"]=29),v>i?(f=d[t-1]["long"]-(v-i),u=t-1,h=o):(f=i-v,u=t,h=o);for(var y=0;y<e.numVisibleDays;y++){u>11&&(u=0,h++,l(h)&&(d[1]["long"]=29));for(var p=f;p<=d[u]["long"];p++){var b="";t>u&&o>=h?b="disable":u===t&&i>p&&(b="disable"),-1!==a.inArray(m,e.disabledDaysWeek)&&(b="disable");var D=9>u?"0"+(u+1):u+1,x=10>p?"0"+p:p,w=x+"-"+D+"-"+h;if(-1!==a.inArray(w,e.holidays)&&(b="disable"),7===m&&(m=0),1===p){var A=d[u].name.split("");g.append('<a href="#" data-date="'+w+'" class="col-xs-14 tmg-calendar-day '+b+" "+y+'"><div class="tmg-calendar-month"><span>'+A[0]+"</span><span>"+A[1]+"</span><span>"+A[2]+"</span></div>"+p+"</a>")}else g.append('<a href="#" data-date="'+w+'" class="col-xs-14 tmg-calendar-day '+b+" "+y+'">'+p+"</a>");if(m++,y++,y>e.numVisibleDays)break}f=1,u++}n.find("[data-date='"+r+"']").addClass("selected")}var t,r;a.fn.tmgCalendar=function(l){var i=a.extend({disabledDaysWeek:[7],numVisibleDays:180,holidays:[],numDisabledRows:2,responsive:!1},l);return this.each(function(){var l=a(this),c=l.val();r=c.length>0&&c.match(/^(\d{2})\-(\d{2})\-(\d{4})$/)?c:"",t=d(l,i),s(i,t),n(l,t),e(l,t)})}}(jQuery);